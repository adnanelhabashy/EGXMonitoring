@page "/"
@inject IWidgetService WidgetService

@if(WidgetInfo.Data != null)
{
    @foreach (var widget in WidgetInfo.Data)
    {
        <SyncWidgetComponent WidgetInfo=widget />
    }
}



@code {
    public ServiceResponse<List<ClientWidget>> WidgetInfo { get; set; } = new ServiceResponse<List<ClientWidget>>();

    protected override async Task OnInitializedAsync()
    {
        WidgetInfo = await WidgetService.GetWidgetsInfo();
    }
}
